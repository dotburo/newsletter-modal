<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Newsletter modal</title>
    <link rel="stylesheet" href="../dist/bootstrapped.css">
</head>
<body>
<div class="root-el"></div>
<script type="module">
    import {nodeListArray} from "../src/js/helpers.js";
    import NewsletterModal from "../dist/NewsletterModal.js";

    const rootElements = document.getElementsByClassName('root-el');

    if (rootElements.length) {
        nodeListArray(rootElements).forEach(el => {
            new NewsletterModal(el, {
                url: '/api/v1/newsletter',
                headers: {
                    'X-CSRF-TOKEN': 'token'
                },
                fields: {
                    email: {
                        icon: 'ico-mail'
                    },
                    gdprCheckbox: {
                        label: 'By subscribing to the AERG newsletter I agree that data I provided will be stored by Mailchimp.'
                    },
                    gdprNotice: {
                        label: 'GDPR disclaimer',
                        text: 'AERG - Avenue Roosevelt 50, 1050 Brussels - is the controller of the personal data concerning you collected through this form. '
                            + 'In this capacity, AERG complies with the provisions of Regulation (EU) 2016/679 of the European Parliament and of the Council of 27 April 2016 on the protection of individuals with regard to the processing of personal data and on the free movement of such data: General Data Protection Regulation (GDPR). '
                            + 'Your email adress is only collected to enable AERG to send you its newsletter.  It is only held by AERG, which ensures adequate security measures to guarantee its integrity and confidentiality.  Your data will be kept for the duration of your registration.  It is not shared with third parties except the processor working for AERG on the mailings (Mailchimp).  AERG staff have access to it to the extent strictly necessary for the performance of their duties and are bound by an obligation of confidentiality. '
                            + 'This data is collected on the basis of your consent. Your consent can be withdrawn at any time by writing to contact@aerg.eu, in which case you will no longer receive the communications to which your request relates. '
                            + 'If you have any questions about your personal data and AERGâ€™s processing of it, you can send an email to contact@aerg.eu.  This address is also the one through which you can exercise your rights in this respect, by proving your identity: access, rectification, deletion, limitation, opposition and portability.  You can send us your complaints about the processing of your data. Any complaint may also be addressed to the Data Protection Authority (DPA). In this case, AERG would like to have the opportunity to respond to your complaint before it is submitted to the DPA. '
                            + 'All details regarding the processing of personal data by AERG can be found here [privacy policy page]'
                    }
                },
            });
        })
    }
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Newsletter modal</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="../dist/bootstrapped.css">
</head>
<body>
<div class="root-el"></div>
<script type="module">
    import {nodeListArray} from "../src/js/helpers.js";
    import NewsletterModal from "../dist/NewsletterModal.js";

    const rootElements = document.getElementsByClassName('root-el');

    if (rootElements.length) {
        nodeListArray(rootElements).forEach(el => {
            new NewsletterModal(el, {
                url: '/api/v1/newsletter',
                headers: {
                    'X-CSRF-TOKEN': 'token'
                },
                fields: {
                    email: true,
                    gdprCheckbox: {
                        label: 'By subscribing to the newsletter I agree that data I provided will be stored by ...'
                    },
                    gdprNotice: {
                        label: 'Privacy notice',
                        text: 'We value your privacy ...'
                    }
                },
            });
        })
    }
</script>
</body>
</html>
